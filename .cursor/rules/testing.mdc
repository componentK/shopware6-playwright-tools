---
description: Working on tests in Advanced Flow Utility plugin
alwaysApply: false
---
# Testing and Development Practices


## Admin Watcher for JavaScript Changes
- **CRITICAL**: When modifying JavaScript/Twig files in admin components, must run admin watcher
- **Setup**: Start admin watcher in separate terminal to compile JS/Twig changes
- **Test Adjustment**: Update test baseURL to use admin watcher port temporarily
- **Without Watcher**: Tests will use old JavaScript and changes won't be reflected

## Final Build Step After Fix Confirmation
- **Build Command**: `composer run build:js:admin` (run from Shopware root directory)
- **Purpose**: Compile production JavaScript after confirming fix works with admin watcher
- **When to Run**: After tests pass with admin watcher and before committing changes
- **Result**: Production-ready JavaScript files in `src/Administration/Resources/public/administration/`

## Development Workflow
- **Code Quality**: Follow PSR standards for PHP, ESLint for JavaScript
- **Pattern Consistency**: Maintain consistency with existing rule and action implementations
- **Documentation**: Document complex logic and configuration options
- **Error Handling**: Implement proper error handling and user feedback

## Playwright tests
- **Admin Tests**: All admin panel tests require admin login and `@admin` tag
- **Test Execution**: Use `pnpm run e2e -- file.spec.ts` for specific test files

# Unit tests
- can be ran as follows [root]/vendor/bin/phpunit --configuration custom/plugins/[plugin]/phpunit.xml
